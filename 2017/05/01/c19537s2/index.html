<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    <title>MySQL 数据查询优化建议 | 仁平君 | 你有故事和酒，而我除了帅什么都没有。</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#009a61">
    
    
    <meta name="keywords" content="mysql,数据库">
    <meta name="description" content="引子在实际项目开发中，当MySQL表的数据量非常庞大时，一般的SQL查询效率明显下降，而且如果where语句中查询条件较多时，其查询速度根本无法容忍。假如我们查询商城的一个订单详情，查询时间高达几十秒，这么高的查询延时，任何用户都会抓狂。因此提高SQL语句查询效率，显得十分重要。
SQL语句查询效率低下原因初探
1、没有索引或者没有用到索引（这是查询慢最常见的问题，是程序设计的缺陷）；

2、I/">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL 数据查询优化建议">
<meta property="og:url" content="http://renpingjun.cn/2017/05/01/c19537s2/index.html">
<meta property="og:site_name" content="仁平君">
<meta property="og:description" content="引子在实际项目开发中，当MySQL表的数据量非常庞大时，一般的SQL查询效率明显下降，而且如果where语句中查询条件较多时，其查询速度根本无法容忍。假如我们查询商城的一个订单详情，查询时间高达几十秒，这么高的查询延时，任何用户都会抓狂。因此提高SQL语句查询效率，显得十分重要。
SQL语句查询效率低下原因初探
1、没有索引或者没有用到索引（这是查询慢最常见的问题，是程序设计的缺陷）；

2、I/">
<meta property="og:updated_time" content="2017-05-01T10:10:43.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MySQL 数据查询优化建议">
<meta name="twitter:description" content="引子在实际项目开发中，当MySQL表的数据量非常庞大时，一般的SQL查询效率明显下降，而且如果where语句中查询条件较多时，其查询速度根本无法容忍。假如我们查询商城的一个订单详情，查询时间高达几十秒，这么高的查询延时，任何用户都会抓狂。因此提高SQL语句查询效率，显得十分重要。
SQL语句查询效率低下原因初探
1、没有索引或者没有用到索引（这是查询慢最常见的问题，是程序设计的缺陷）；

2、I/">
    
        <link rel="alternative" href="/atom.xml" title="仁平君" type="application/atom+xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.4.14">
    <script>window.lazyScripts=[]</script>
</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/logo.jpeg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">仁平君</h5>
          <a href="mailto:ganrenping@gmail.com" title="ganrenping@gmail.com" class="mail">ganrenping@gmail.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/rpjltx" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://twitter.com/renpingjun" target="_blank" >
                <i class="icon icon-lg icon-twitter"></i>
                Twitter
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/renpingjun" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-link"></i>
                友情链接
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">MySQL 数据查询优化建议</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">MySQL 数据查询优化建议</h1>
        <h4 class="subtitle">
            
                <time datetime="2017-05-01T09:08:00.000Z" itemprop="datePublished" class="page-time">
  2017-05-01
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/数据库/">数据库</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/数据库/mysql/">mysql</a></li></ul></li></ul>

            
        </h4>
    </div>

    

</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#引子"><span class="post-toc-text">引子</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SQL语句查询效率低下原因初探"><span class="post-toc-text">SQL语句查询效率低下原因初探</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#SQL语句查询的优化建议"><span class="post-toc-text">SQL语句查询的优化建议</span></a></li></ol>
        </nav>
    </aside>
    
<article id="post-MySQL-数据查询优化建议"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">MySQL 数据查询优化建议</h1>
        <div class="post-meta">
            <time class="post-time" title="2017年05月01日 17:08" datetime="2017-05-01T09:08:00.000Z"  itemprop="datePublished">2017-05-01</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/数据库/">数据库</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/数据库/mysql/">mysql</a></li></ul></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


            

        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><p>在实际项目开发中，当MySQL表的数据量非常庞大时，一般的SQL查询效率明显下降，而且如果where语句中查询条件较多时，其查询速度根本无法容忍。假如我们查询商城的一个订单详情，查询时间高达几十秒，这么高的查询延时，任何用户都会抓狂。因此提高SQL语句查询效率，显得十分重要。</p>
<h3 id="SQL语句查询效率低下原因初探"><a href="#SQL语句查询效率低下原因初探" class="headerlink" title="SQL语句查询效率低下原因初探"></a>SQL语句查询效率低下原因初探</h3><ul>
<li><p>1、没有索引或者没有用到索引（这是查询慢最常见的问题，是程序设计的缺陷）；</p>
</li>
<li><p>2、I/O 吞吐量小，形成了瓶颈效应；</p>
</li>
<li><p>3、没有创建计算列导致查询不优化；</p>
</li>
<li><p>4、内存不足；</p>
</li>
<li><p>5、网络速度慢</p>
</li>
<li><p>6、查询出的数据量过大（可采用多次查询，其他的方法降低数据量）</p>
</li>
<li><p>7、锁或者死锁（这是查询慢最常见的问题，是程序设计的缺陷）</p>
</li>
<li><p>8、sp_lock,sp_who,活动的用户查看,原因是读写竞争资源；</p>
</li>
<li><p>9、返回了不必要的行和列；</p>
</li>
<li><p>10、查询语句不好，没有优化。</p>
</li>
</ul>
<h3 id="SQL语句查询的优化建议"><a href="#SQL语句查询的优化建议" class="headerlink" title="SQL语句查询的优化建议"></a>SQL语句查询的优化建议</h3><ul>
<li><p>1 应尽量避免在 where 子句中使用 != 或者 &lt;&gt; 操作符，否则将引擎放弃使用索引而进行全表扫描。</p>
</li>
<li><p>2 应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如可以在 num 上设置默认值 0 ，确保表中 num 列没有 null 值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select id from t where num is null;  // not good</div><div class="line">select id from t where num = 0;   // better</div></pre></td></tr></table></figure>
</li>
<li><p>3 对查询进行优化，应尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。</p>
</li>
<li><p>4 尽量避免在 where 子句中使用 or 来连接条件，否则将导致引擎放弃使用索引而进行全表扫描，如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">select id from t where num = 10 or num = 20;  // not good</div><div class="line"></div><div class="line">select id from t where num = 10     // better</div><div class="line">union all</div><div class="line">select id from t where num = 20;</div></pre></td></tr></table></figure>
</li>
<li><p>5 前置百分号（%）会致使全表扫描，可以考虑全文检索。</p>
</li>
<li><p>6 慎用in 或 not in，会致使全表扫描，连续的数值可以考虑用between。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select id from t where num in(1, 2, 3); // not good</div><div class="line">select id from t where num between 1 and 3;  // better</div></pre></td></tr></table></figure>
</li>
<li><p>7 如果在 where 子句中使用参数，也会导致全表扫描。因为 SQL 只有在运行时才会解析局部变量，但优化程序不能将访问计划的选择到运行时；它必须在编译时进行选择。然而，如果在编译时简历访问计划，变量的值还是未知的，因而无法作为索引选择的输入项。如下面语句将进行全表扫描,可以改为强制查询使用索引。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select id from t where num = @num;  // not good</div><div class="line">select id from t with(index(索引名)) where num = @num;  // better</div></pre></td></tr></table></figure>
</li>
<li><p>8 尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select id from t where num/2 = 100;  // not good</div><div class="line">select id from t where num = 100 * 2;  // better</div></pre></td></tr></table></figure>
</li>
<li><p>9 应尽量避免在 where 子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// not good</div><div class="line">select id from t where substring(name, 1, 3) = ’abc’–name;  //以abc开头的id</div><div class="line">select id from t where datediff(day,createdate,’2005-11-30′) = 0–’2005-11-30′;  //生成的id</div><div class="line">// better</div><div class="line">select id from t where name like ‘abc%’</div><div class="line">select id from t where createdate &gt;= ’2005-11-30′ and createdate &lt; ’2005-12-1′;</div></pre></td></tr></table></figure>
</li>
<li><p>10 不要在 where 子句中的 “=” 左边进行函数，算术运算或者其他表达式运算，否则系统将可能无法正确使用索引。</p>
</li>
<li>11 在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引的第一个字段作为条件时才能保证系统使用该索引，否则该索引将不会被使用，并且应尽可能的让字段顺序与索引顺序相一致。</li>
<li><p>12 毋写无意义查询，这类代码不会返回任何结果集，但是会消耗系统资源，如需要生成一个空表结构。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select col1,col2 into #t from t where 1=0; // not good</div><div class="line">create table #t(…) // better</div></pre></td></tr></table></figure>
</li>
<li><p>13 很多时候用 exists 代替 in 是一个好的选择.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">select num from a where num in(select num from b); // not good</div><div class="line">select num from a where exists(select 1 from b where num=a.num); // better</div></pre></td></tr></table></figure>
</li>
<li><p>14 并不是所有索引对查询都有效，SQL是根据表中数据来进行查询优化的，当索引列有大量数据重复时，SQL查询可能不会去利用索引，如一表中有字段 sex，male、female几乎各一半，那么即使在sex上建了索引也对查询效率起不了作用。</p>
</li>
<li><p>15 索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。一个表的索引数最好不要超过6个，若太多则应考虑一些不常使用到的列上建的索引是否有必要。</p>
</li>
<li><p>16 应尽可能的避免更新 clustered 索引数据列，因为 clustered 索引数据列的顺序就是表记录的物理存储顺序，一旦该列值改变将导致整个表记录的顺序的调整，会耗费相当大的资源。若应用系统需要频繁更新 clustered 索引数据列，那么需要考虑是否应将该索引建为 clustered 索引。</p>
</li>
<li><p>17 尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连接时会 逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。</p>
</li>
<li><p>18 尽可能的使用 varchar/nvarchar 代替 char/nchar ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。</p>
</li>
<li><p>19 任何地方都不要使用 select <em> from t ，用具体的字段列表代替 </em>，不要返回用不到的任何字段。</p>
</li>
<li><p>20 尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。</p>
</li>
<li><p>21 避免频繁创建和删除临时表，以减少系统表资源的消耗。</p>
</li>
<li><p>22 临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件，最好使用导出表。</p>
</li>
<li><p>23 在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度；如果数据量不大，为了缓和系统表的资源，应先 create table，然后 insert。</p>
</li>
<li><p>24 如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，这样可以避免系统表的较长时间锁定。</p>
</li>
<li><p>25 尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。</p>
</li>
<li><p>26 使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。</p>
</li>
<li><p>27 与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时 间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。</p>
</li>
<li><p>28 在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。无需在执行存储过程和触发器的每个语句后向客户端发送 DONE_IN_PROC 消息。</p>
</li>
<li><p>29 尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。</p>
</li>
<li><p>30 尽量避免大事务操作，提高系统并发能力。</p>
</li>
</ul>

        </div>

        <blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2017-05-01T10:10:43.000Z" itemprop="dateUpdated">2017年5月1日 18:10</time>
</span><br>


        这里写留言或版权声明：<a href="/2017/05/01/c19537s2/" target="_blank" rel="external">http://renpingjun.cn/2017/05/01/c19537s2/</a>
    </div>
    <footer>
        <a href="http://renpingjun.cn">
            <img src="/img/logo.jpeg" alt="仁平君">
            仁平君
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://renpingjun.cn/2017/05/01/c19537s2/&title=《MySQL 数据查询优化建议》 — 仁平君&pic=http://renpingjun.cn/img/logo.jpeg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://renpingjun.cn/2017/05/01/c19537s2/&title=《MySQL 数据查询优化建议》 — 仁平君&source=Open your API to change the internet, open your mind to change the world." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://renpingjun.cn/2017/05/01/c19537s2/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《MySQL 数据查询优化建议》 — 仁平君&url=http://renpingjun.cn/2017/05/01/c19537s2/&via=http://renpingjun.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://renpingjun.cn/2017/05/01/c19537s2/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2017/05/01/c19527s2/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">MySQL 优化原理[转]</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2017/04/29/c19517s2/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">MYSQL 基本操作指南</h4>
      </a>
    </div>
  
</nav>



    
    
            <!-- UY BEGIN -->
<div id="uyan_frame"></div>
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2128696"></script>
<!-- UY END -->
        

</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢打赏~
        <i class="icon icon-quote-right"></i>
    </h3>
    <ul class="reward-items">
        
        <li>
            <img src="/img/Wechat.png" title="微信打赏二维码" alt="微信打赏二维码">
            <p>微信</p>
        </li>
        

        
        <li>
            <img src="/img/alipay.png" title="支付宝打赏二维码" alt="支付宝打赏二维码">
            <p>支付宝</p>
        </li>
        
    </ul>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点UV：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点PV：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            <span>博客内容遵循 <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p>
            <!--<span>Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a></span>-->
            <span>仁平君&copy;All Rights Reserved</span>
            <span>2016 - 2017</span>
        </p>
    </div>
</footer>
<!--百度统计-->
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?a1b12a851f7e118fcdaac2f8f624f832";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://renpingjun.cn/2017/05/01/c19537s2/&title=《MySQL 数据查询优化建议》 — 仁平君&pic=http://renpingjun.cn/img/logo.jpeg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://renpingjun.cn/2017/05/01/c19537s2/&title=《MySQL 数据查询优化建议》 — 仁平君&source=Open your API to change the internet, open your mind to change the world." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://renpingjun.cn/2017/05/01/c19537s2/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《MySQL 数据查询优化建议》 — 仁平君&url=http://renpingjun.cn/2017/05/01/c19537s2/&via=http://renpingjun.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://renpingjun.cn/2017/05/01/c19537s2/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABwUlEQVR42u3aS47CMBAFQO5/aeYAKOG9TuwJUnmFhoxdYdHqj1+veL0/1tEzR88ffftasXBxcS9z36frnPt55Plf8v0PXwkXF3cjNwlM+fPJCwz3xMXF/RFucvBtPwEuLu6DuefBqC1+cHFxn8lNDkjC0yx4LanVcHFxL3DzLuW6z0v6u7i4uCPuu1zJPvkApj4dFxd3CzcPKOdHzpKe4bm4uLhbuPnAo02DrpRSX07HxcVdxr0SmFpKnjZ9ychwcXEXc2clSn78rHz68hPg4uIu5uZD0Nmoddb5PEyzcHFxN3JnTc/8+sVdYxtcXNwncGdhKylp8j2LQIaLi7uFmzdE2kFpGwRxcXF3cvN0pG2Mtq+aBDtcXNz93HxQ2h5wVyGEi4u7n5sXNi2lbb5E98hwcXG3cNvR6exzO2Ip2qa4uLjLuCsaIjekNXfdHcPFxQ24d7U72z3ba1u4uLg7uW1wmYWqNlVK/hcXF3c1Nw86ScaUl1JJiYWLi/u/3HZcOktTbkhlcHFxH8lti582zH15eVxc3J/ituVN26jFxcXdz51dwEqGo1car7i4uP/FbSuO/CJXe82iTadwcXEXcP8AeC9xsLfXZ5cAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };



</script>

<script src="/js/main.min.js?v=1.4.14"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.4.14" async></script>






<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
